<!DOCTYPE html>
<html lang="de-DE" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="hash # Mithilfe des Kommandos hash lässt sich eine Tabelle erzeugen, die in der ersten Spalte die IDN (Feld 003@.0) eines Datensatzes und in der zweiten Spalte den SHA-256 Hashwert enthält.
Beschreibung # Mitunter kommt es vor, dass eine regelmäßige und aufwändige Berechnung für Datensätze ausgeführt werden muss und es nicht praktikabel ist, die Berechnung über alle Datensätze durchzuführen. Mittels des hash-Kommandos können auf unterschiedlichen Abzügen die Hashwerte der Datensätze bestimmt werden.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="" />
<meta property="og:description" content="hash # Mithilfe des Kommandos hash lässt sich eine Tabelle erzeugen, die in der ersten Spalte die IDN (Feld 003@.0) eines Datensatzes und in der zweiten Spalte den SHA-256 Hashwert enthält.
Beschreibung # Mitunter kommt es vor, dass eine regelmäßige und aufwändige Berechnung für Datensätze ausgeführt werden muss und es nicht praktikabel ist, die Berechnung über alle Datensätze durchzuführen. Mittels des hash-Kommandos können auf unterschiedlichen Abzügen die Hashwerte der Datensätze bestimmt werden." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://deutsche-nationalbibliothek.github.io/pica-rs/book/docs/kommandos/hash/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2024-02-24T07:15:37+01:00" />

<title>Hash | pica-rs</title>
<link rel="manifest" href="/pica-rs/book/manifest.json">
<link rel="icon" href="/pica-rs/book/favicon.png" >
<link rel="canonical" href="https://deutsche-nationalbibliothek.github.io/pica-rs/book/docs/kommandos/hash/">
<link rel="stylesheet" href="/pica-rs/book/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css" integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz&#43;OQteg=" crossorigin="anonymous"><!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/pica-rs/book/"><span>pica-rs</span>
  </a>
</h2>













  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/pica-rs/book/docs/anleitungen/" class="">Anleitungen</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/installation/" class="">Installation</a>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/" class="">Kommandos</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/cat/" class="">Cat</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/completions/" class="">Completions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/convert/" class="">Convert</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/count/" class="">Count</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/explode/" class="">Explode</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/filter/" class="">Filter</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/frequency/" class="">Frequency</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/hash/" class="active">Hash</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/invalid/" class="">Invalid</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/partition/" class="">Partition</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/print/" class="">Print</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/slice/" class="">Slice</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/split/" class="">Split</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/pica-rs/book/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Hash</strong>

  <label for="toc-control">
    
  </label>
</div>


  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="hash">
  hash
  <a class="anchor" href="#hash">#</a>
</h1>
<p>Mithilfe des Kommandos <code>hash</code> lässt sich eine Tabelle erzeugen, die in
der ersten Spalte die IDN (Feld <code>003@.0</code>) eines Datensatzes und in der
zweiten Spalte den <a href="https://de.wikipedia.org/wiki/SHA-2"><em>SHA-256</em></a> Hashwert enthält.</p>
<h2 id="beschreibung">
  Beschreibung
  <a class="anchor" href="#beschreibung">#</a>
</h2>
<p>Mitunter kommt es vor, dass eine regelmäßige und aufwändige Berechnung
für Datensätze ausgeführt werden muss und es nicht praktikabel ist, die
Berechnung über alle Datensätze durchzuführen. Mittels des
<code>hash</code>-Kommandos können auf unterschiedlichen Abzügen die Hashwerte der
Datensätze bestimmt werden. Durch Vergleich dieser Tabelle ist es
möglich, die Datensätze zu identifizieren, die sich geändert haben,
gelöscht oder neu hinzugefügt wurden. Das folgende Beispiel demonstriert
die Erzeugung dieser Hash-Tabellen:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ pica hash -s DUMP.dat.gz
</span></span><span style="display:flex;"><span>idn,sha256
</span></span><span style="display:flex;"><span>118540238,762cf3a1b18a0cad2d0401cd2b573a89ff9c81b43c4ddab76e136d7a10a851f3
</span></span><span style="display:flex;"><span>118607626,8d75e2cdfec20aa025d36018a40b150363d79571788cd92e7ff568595ba4f9ee
</span></span><span style="display:flex;"><span>040993396,0361c33e1f7a80e21eecde747b2721b7884e003ac4deb8c271684ec0dc4d059a
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><h2 id="optionen">
  Optionen
  <a class="anchor" href="#optionen">#</a>
</h2>
<ul>
<li><code>-s</code>, <code>--skip-invalid</code> — überspringt jene Zeilen aus der Eingabe, die
nicht dekodiert werden konnten.</li>
<li><code>-H</code>, <code>--header</code> <code>&lt;header&gt;</code> — Kopfzeile, die den Ergebnissen
vorangestellt wird.</li>
<li><code>-t</code>, <code>--tsv</code> — Ausgabe erfolgt im TSV-Format.</li>
<li><code>-p</code>, <code>--progress</code> — Anzeige des Fortschritts, der die Anzahl der
eingelesenen gültigen sowie invaliden Datensätze anzeigt. Das
Aktivieren der Option erfordert das Schreiben der Datensätze in eine
Datei mittels <code>-o</code> bzw. <code>--output</code>.</li>
<li><code>-o</code>, <code>--output</code> — Angabe, in welche Datei die Ausgabe geschrieben
werden soll.</li>
</ul>
<h2 id="konfiguration">
  Konfiguration
  <a class="anchor" href="#konfiguration">#</a>
</h2>
<!-- TODO: Link zum allgemeinen Kapitel über die Konfigurationsdatei -->
<p>Die Option zum Ignorieren invalider Datensätze lässt sich in der
<code>Pica.toml</code> konfigurieren:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#a6e22e">hash</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">skip-invalid</span> = <span style="color:#66d9ef">true</span>
</span></span></code></pre></div><p>Die Werte der Kommandozeilen-Optionen haben Vorrang vor den Werten aus
der Konfiguration.</p>
<h2 id="beispiele">
  Beispiele
  <a class="anchor" href="#beispiele">#</a>
</h2>
<h3 id="ausgabe-im-tsv-format">
  Ausgabe im TSV-Format
  <a class="anchor" href="#ausgabe-im-tsv-format">#</a>
</h3>
<p>Die Ausgabe lässt sich mittels der Option <code>--tsv</code> (bzw. <code>-t</code>) in das
TSV-Format ändern.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ pica hash -s --tsv DUMP.dat.gz
</span></span><span style="display:flex;"><span>idn	sha256
</span></span><span style="display:flex;"><span>118540238	762cf3a1b18a0cad2d0401cd2b573a89ff9c81b43c4ddab76e136d7a10a851f3
</span></span><span style="display:flex;"><span>118607626	8d75e2cdfec20aa025d36018a40b150363d79571788cd92e7ff568595ba4f9ee
</span></span><span style="display:flex;"><span>040993396	0361c33e1f7a80e21eecde747b2721b7884e003ac4deb8c271684ec0dc4d059a
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><h3 id="hinzufügen-einer-kopfzeile">
  Hinzufügen einer Kopfzeile
  <a class="anchor" href="#hinzuf%c3%bcgen-einer-kopfzeile">#</a>
</h3>
<p>Eine individuelle Kopfzeile lässt sich mit der Option <code>--header</code> (bzw.
<code>-H</code>) ausgeben:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ pica hash -s --header <span style="color:#e6db74">&#39;ppn,hash&#39;</span> DUMP.dat.gz
</span></span><span style="display:flex;"><span>ppn,hash
</span></span><span style="display:flex;"><span>118540238,762cf3a1b18a0cad2d0401cd2b573a89ff9c81b43c4ddab76e136d7a10a851f3
</span></span><span style="display:flex;"><span>118607626,8d75e2cdfec20aa025d36018a40b150363d79571788cd92e7ff568595ba4f9ee
</span></span><span style="display:flex;"><span>040993396,0361c33e1f7a80e21eecde747b2721b7884e003ac4deb8c271684ec0dc4d059a
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><h2 id="anmerkung">
  Anmerkung
  <a class="anchor" href="#anmerkung">#</a>
</h2>
<p>Zur Berechnung des <a href="https://de.wikipedia.org/wiki/SHA-2"><em>SHA-256</em></a>-Hashwerts wird der abschließende
Zeilenumbruch mit einbezogen, um einen gleichen Hashwert zu erzeugen,
der entsteht, wenn der Hashwert über die gesamte Zeile aus der Eingabe
ermittelt wird. Im folgenden Beispiel wird zuerst der erste gültige
Datensatz in die Datei <code>1.dat</code> geschrieben. Anschließend wird der
Hashwert einmal mit dem <code>hash</code>-Kommando und einmal mit dem Unix-Programm
<a href="https://manpages.ubuntu.com/manpages/trusty/de/man1/sha256sum.1.html"><em>sha256sum</em></a> gebildet. Beide Ergebnisse sind gleich.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ pica filter -s -l1 <span style="color:#e6db74">&#34;003@?&#34;</span> DUMP.dat.gz -o 1.dat
</span></span><span style="display:flex;"><span>$ pica hash 1.dat
</span></span><span style="display:flex;"><span>idn,sha256
</span></span><span style="display:flex;"><span>118540238,762cf3a1b18a0cad2d0401cd2b573a89ff9c81b43c4ddab76e136d7a10a851f3
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>$ sha256sum 1.dat
</span></span><span style="display:flex;"><span>762cf3a1b18a0cad2d0401cd2b573a89ff9c81b43c4ddab76e136d7a10a851f3
</span></span></code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  </main>

  
</body>
</html>












