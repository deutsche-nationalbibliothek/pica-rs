<!DOCTYPE html>
<html lang="de-DE" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="partition # Mittels des partition-Kommandos lassen sich Datensätze anhand eines Unterfelds in Partitionen einteilen.
Beschreibung # Lassen sich Datensätze anhand von den Wertausprägungen in einem Unterfeld gruppieren, ist es mitunter hilfreich die Gesamtmenge der Datensätze in Partitionen aufzuteilen. Ist das Unterfeld, nach dem partitioniert werden soll, wiederholbar, sind die erzeugten Partitionen i.d.R. nicht disjunkt. Ein Datensatz der das Unterfeld nicht besitzt, geht in keine Partition ein.
Hinweis: Die Werte des Unterfelds ergeben den Dateinamen der Partition.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="" />
<meta property="og:description" content="partition # Mittels des partition-Kommandos lassen sich Datensätze anhand eines Unterfelds in Partitionen einteilen.
Beschreibung # Lassen sich Datensätze anhand von den Wertausprägungen in einem Unterfeld gruppieren, ist es mitunter hilfreich die Gesamtmenge der Datensätze in Partitionen aufzuteilen. Ist das Unterfeld, nach dem partitioniert werden soll, wiederholbar, sind die erzeugten Partitionen i.d.R. nicht disjunkt. Ein Datensatz der das Unterfeld nicht besitzt, geht in keine Partition ein.
Hinweis: Die Werte des Unterfelds ergeben den Dateinamen der Partition." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://deutsche-nationalbibliothek.github.io/pica-rs/book/docs/kommandos/partition/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2024-02-24T07:15:37+01:00" />

<title>Partition | pica-rs</title>
<link rel="manifest" href="/pica-rs/book/manifest.json">
<link rel="icon" href="/pica-rs/book/favicon.png" >
<link rel="canonical" href="https://deutsche-nationalbibliothek.github.io/pica-rs/book/docs/kommandos/partition/">
<link rel="stylesheet" href="/pica-rs/book/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css" integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz&#43;OQteg=" crossorigin="anonymous"><!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/pica-rs/book/"><span>pica-rs</span>
  </a>
</h2>













  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/pica-rs/book/docs/anleitungen/" class="">Anleitungen</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/installation/" class="">Installation</a>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/" class="">Kommandos</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/cat/" class="">Cat</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/completions/" class="">Completions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/convert/" class="">Convert</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/count/" class="">Count</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/explode/" class="">Explode</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/filter/" class="">Filter</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/frequency/" class="">Frequency</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/hash/" class="">Hash</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/invalid/" class="">Invalid</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/partition/" class="active">Partition</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/print/" class="">Print</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/slice/" class="">Slice</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/pica-rs/book/docs/kommandos/split/" class="">Split</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/pica-rs/book/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Partition</strong>

  <label for="toc-control">
    
  </label>
</div>


  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="partition">
  partition
  <a class="anchor" href="#partition">#</a>
</h1>
<p>Mittels des <code>partition</code>-Kommandos lassen sich Datensätze anhand eines
Unterfelds in Partitionen einteilen.</p>
<h2 id="beschreibung">
  Beschreibung
  <a class="anchor" href="#beschreibung">#</a>
</h2>
<p>Lassen sich Datensätze anhand von den Wertausprägungen in einem
Unterfeld gruppieren, ist es mitunter hilfreich die Gesamtmenge der
Datensätze in Partitionen aufzuteilen. Ist das Unterfeld, nach dem
partitioniert werden soll, wiederholbar, sind die erzeugten Partitionen
i.d.R. nicht disjunkt. Ein Datensatz der das Unterfeld nicht besitzt,
geht in keine Partition ein.</p>
<blockquote>
<p><strong>Hinweis:</strong> Die Werte des Unterfelds ergeben den Dateinamen der
Partition. Es kann vorkommen, dass die Werte Sonderzeichen enthalten,
die nicht vom Betriebssystem in Dateinamen erlaubt sind.</p>
</blockquote>
<p>Im folgenden Beispiel wird pro Entitätencode im Feld <code>004B.a</code> eine
Partition erstellt, die alle GND-Entitäten enthält, die diesem
Entitätencode zugeordnet sind.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ pica partition -s <span style="color:#e6db74">&#34;004B.a&#34;</span> DUMP.dat.gz -o out
</span></span><span style="display:flex;"><span>$ tree out/
</span></span><span style="display:flex;"><span>out
</span></span><span style="display:flex;"><span>├── gik.dat
</span></span><span style="display:flex;"><span>├── piz.dat
</span></span><span style="display:flex;"><span>├── saz.dat
</span></span><span style="display:flex;"><span>└── wit.dat
</span></span></code></pre></div><h2 id="optionen">
  Optionen
  <a class="anchor" href="#optionen">#</a>
</h2>
<ul>
<li><code>-s</code>, <code>--skip-invalid</code> — überspringt jene Zeilen aus der Eingabe, die
nicht dekodiert werden konnten.</li>
<li><code>-g</code>, <code>--gzip</code> — Komprimieren der Ausgabe im <a href="https://de.wikipedia.org/wiki/Gzip">Gzip</a>-Format.</li>
<li><code>-t</code>, <code>--template</code> — Template für die Dateinamen. Der Platzhalter <code>{}</code>
wird durch den Namen der Partition ersetzt.</li>
<li><code>-p</code>, <code>--progress</code> — Anzeige des Fortschritts, der die Anzahl der
eingelesenen gültigen sowie invaliden Datensätze anzeigt.</li>
<li><code>-o</code>, <code>--outdir</code> — Angabe, in welches Verzeichnis die Partitionen
geschrieben werden sollen. Standardmäßig wird das aktuelle Verzeichnis
verwendet.</li>
</ul>
<h2 id="konfiguration">
  Konfiguration
  <a class="anchor" href="#konfiguration">#</a>
</h2>
<!-- TODO: Link zum allgemeinen Kapitel über die Konfigurationsdatei -->
<p>Einige Kommandozeilen-Optionen lassen sich per Konfigurationsdatei
(<code>Pica.toml</code>) einstellen:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#a6e22e">partition</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">template</span> = <span style="color:#e6db74">&#34;PART_{}.dat&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">skip-invalid</span> = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">gzip</span> = <span style="color:#66d9ef">true</span>
</span></span></code></pre></div><h2 id="beispiele">
  Beispiele
  <a class="anchor" href="#beispiele">#</a>
</h2>
<h3 id="eingrenzen-der-partitionen">
  Eingrenzen der Partitionen
  <a class="anchor" href="#eingrenzen-der-partitionen">#</a>
</h3>
<p>Sollen nicht alle Partitionen erstellt werden, kann die Anzahl der
möglichen Partition durch die Angabe eines Filterausdrucks eingegrenzt
werden:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ pica partition -s <span style="color:#e6db74">&#34;004B{a | a in [&#39;piz&#39;, &#39;saz&#39;]}&#34;</span> DUMP.dat.gz -o out
</span></span><span style="display:flex;"><span>$ tree out/
</span></span><span style="display:flex;"><span>out
</span></span><span style="display:flex;"><span>├── piz.dat
</span></span><span style="display:flex;"><span>└── saz.dat
</span></span></code></pre></div><h3 id="benutzerdefinierte-dateinamen">
  Benutzerdefinierte Dateinamen
  <a class="anchor" href="#benutzerdefinierte-dateinamen">#</a>
</h3>
<p>Standardmäßig werden die erstellten Partitionen nach den Werten im
Unterfeld benannt. Der Dateiname kann individuell mit der
<code>-t</code>/<code>--template</code>-Option angepasst werden. Jedes Vorkommen der Zeichenfolge
<code>{}</code> im Template wird durch den Wert des Unterfelds ersetzt. Endet die
Datei auf der Dateiendung <code>.gz</code>, wird die Ausgabe automatisch im
<a href="https://de.wikipedia.org/wiki/Gzip">Gzip</a>-Format komprimiert.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ pica partition -s <span style="color:#e6db74">&#34;004B.a&#34;</span> --template <span style="color:#e6db74">&#34;code_{}.dat.gz&#34;</span> DUMP.dat.gz -o out
</span></span><span style="display:flex;"><span>$ tree out/
</span></span><span style="display:flex;"><span>out
</span></span><span style="display:flex;"><span>├── code_gik.dat.gz
</span></span><span style="display:flex;"><span>├── code_piz.dat.gz
</span></span><span style="display:flex;"><span>├── code_saz.dat.gz
</span></span><span style="display:flex;"><span>└── code_wit.dat.gz
</span></span></code></pre></div><h3 id="komprimierte-ausgabe">
  Komprimierte Ausgabe
  <a class="anchor" href="#komprimierte-ausgabe">#</a>
</h3>
<p>Mittels der Option <code>-g</code>/<code>--gzip</code> erfolgt eine Komprimierung der Ausgabe:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ pica partition -s <span style="color:#e6db74">&#34;004B.a&#34;</span> --gzip DUMP.dat.gz -o out
</span></span><span style="display:flex;"><span>$ tree out/
</span></span><span style="display:flex;"><span>out
</span></span><span style="display:flex;"><span>├── gik.dat.gz
</span></span><span style="display:flex;"><span>├── piz.dat.gz
</span></span><span style="display:flex;"><span>├── saz.dat.gz
</span></span><span style="display:flex;"><span>└── wit.dat.gz
</span></span></code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  </main>

  
</body>
</html>












